/* Tree
   ========================================================================== */

.k-tree {
  @include clearfix;

  .jqtree-element {
    padding: 0 $spacing-tiny 0 26px;

    @include rtl {
      padding: 0 26px 0 $spacing-tiny;
    }

    &:hover,
    &:focus {
      background: $jqtree-hover-background;
    }
  }

  & > .jqtree-tree {
    margin: 0;

    & > .jqtree-folder {
      .jqtree-element {
        padding-left: 0;

        @include rtl {
          padding-left: $spacing-tiny;
          padding-right: 0;
        }
      }
    }
  }

  .jqtree-selected {
    font-weight: bold;
  }
}

.jqtree-tree {
  @include clearfix;


  /* Reset default ul li styling */

  &, ul {
    @include reset;
    @include clearfix;
    float: left;
    min-width: 100%;

    @include rtl {
      float: right;
    }
  }
}

.jqtree-folder {
  @include clearfix;
}

.jqtree-element {
  position: relative;
  display: block;
  width: 100%;
  font-size: 0;
  padding: 0;
  white-space: nowrap;
  height: auto;
  cursor: pointer;

  a {
    padding: 0;
    background: transparent;
  }

  .jqtree-toggler {
    height: 0;
    padding-top: $tree-size;
    overflow: hidden;
    color: inherit;
  }
}

.jqtree-whitespace,
.jqtree-toggler,
.jqtree-icon,
.jqtree-title {
  display: inline-block;
  font-size: $font-size;
  line-height: $tree-size;
  height: $tree-size;
  vertical-align: middle;
}

.jqtree-whitespace,
.jqtree-toggler,
.jqtree-icon {
  width: $tree-size;
  text-align: center;
}

.jqtree-whitespace + .jqtree_common:not(.jqtree-toggler) {
  @include psuedo(after) {
    width: 6px;
    height: 6px;
    border-left: 1px solid #aaa;
    border-bottom: 1px solid #aaa;
    top: 50%;
    margin-top: -3px;
    left: -(($tree-size / 2) + 3px);

    @include rtl {
      border-left: none;
      border-right: 1px solid #aaa;
      left: auto;
      right: -(($tree-size / 2) + 3px);
    }
  }
}

.jqtree-toggler {
  @include psuedo(before) {
    top: 50%;
    left: 50%;
    margin-top: -(round($tree-toggle-size / 2) - 1px);
    margin-left: -($tree-toggle-size);
    @include caret(bottom, $tree-toggle-size);
    @include transition;

    // @include rtl { works fine without RTL }
  }

  &:hover,
  &:focus {
    &:before {
      border-top-color: black;
    }
  }

  &.jqtree-closed {
    &:before {
      transform: rotate(-90deg);

      @include rtl {
        transform: rotate(90deg);
      }
    }
  }
}

.jqtree-closed {
  ul {
    display: none;
  }
}